
<html>

   <head>
      <title>Products</title>
	  <meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
   </head>
   
  
   
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
$(document).ready(function(){
    $.ajax({
		type: "GET",
		url:"http://localhost:5000/products",
		
		success: function(data){ 
            if(data){
			
                var len = data.length;
                var txt = "";
                if(len > 0){
                    for(var i=0;i<len;i++){
                        if(data[i]._id && data[i].Category && data[i].MainCategory && data[i].Price){
                            txt += "<tr><td>"+data[i]._id+"</td><td>"+data[i].Category+"</td><td>"+data[i].MainCategory+"</td><td>"+data[i].Price+"</td ><td ><i class='w3-xlarge fa fa-edit updtbtn'></td><td><i class='w3-xlarge fa fa-trash' id='Delete'  onclick='deleteEntry()'></td></tr>";
                        }
                    }
                    if(txt != ""){
                        $("#table").append(txt);
                    }
                }
            }
        },
		error: function() {
			alert('Not OKay');
		}
	});
	
	 
    
});

$(document).ready(function(){
	$('.updtbtn').click(function () {
		alert ("update pressed");
	});
});

$(document).on('click', '.updtbtn', function(e) { 
    try{
        alert ("update pressed");
		 $('input[type="text"]',this)
    }
    catch(err){alert(err);}
});


</script>

   <body>
      <table width = "100%" border = "0">
         
         <tr>
            <td colspan = "2" bgcolor = "#b5dcb3">
               <h1>Sample Products Page</h1>
            </td>
         </tr>
         <tr valign = "top">
            <td bgcolor = "#aaa" width = "10">
               <b>Main Menu</b><br/><br/><br/>
               Add a Product<br /><br/>
               Update a Product<br /><br/>
               Delete a Product
            </td>
            
            <td bgcolor = "#eee" width = "250" height = "500">
              
			  
			  <div class="result"></div>
			  <table id="table" border="1">
				<tr>
					<th width="20%">Product Id</th>
					<th width="20%">Category</th>
					<th width="25%">Main Category</th>
					<th width="15%">Price</th>
					<th></th>
					<th></th>
				</tr>
				
				</tr>
			</table>
			<input type="button" value="test" class="updtbtn">
			

			  
            </td>
         </tr>
         <tr>
            <td colspan = "2" bgcolor = "#b5dcb3">
               <center>
                  
               </center>
            </td>
         </tr>
         
      </table>
   </body>

</html>